---
title: "Ceci n'est pas une %>%: <br>Exploring Your Data with R"
author: ""

date: "Winter 2016 Workshop <br> <span style='color:#00274c'>Michael Clark<br>Consulting for Statistics, Computing & Analytics Research<br>Advanced Research Computing</span>"
output: 
  ioslides_presentation: 
    smaller: no
    widescreen: yes
    css: slideStyles.css
  revealjs::revealjs_presentation:
    transition: fade
    css: csstestCSStherealCSSSERIOUSLY.css
    reveal_options:
      progress: false
      previewLinks: true

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning=FALSE, R.options=list(width=120))
library(dplyr); library(magrittr)
```

## Preliminaries
[Link to slides ](www-personal.umich.edu/~micl/mainSlides.html): <br> www-personal.umich.edu/~micl/mainSlides.html

[Link to R package install/load script](www-personal.umich.edu/~micl/installLoadPackages.R):<br> www-personal.umich.edu/~micl/installLoadPackages.R

- Start Rstudio
- Run script (make take a couple minutes)
- Copy, paste, and run or run the following:
- <span style="font-family:monospace; font-size:18pt">source("http://www-personal.umich.edu/~micl/installLoadPackages.R")</span>

YOU WILL GET A POP-UNDER WINDOW (on the Windows lab machines).  Affirm that you want to use a personal library.


## The Reference

**The Treachery of Images** by <span class='emph'>Rene Magritte</span>

<div style='text-align:center'>
<img src='img/MagrittePipe.jpg'></img>
</div>

## Goals
>- Introduce newer approaches to data wranging, scrubbing, manipulation etc.

>- Show the benefits of <span class='emph'>*piping*</span> code

>- Put it all together with some newer visualization packages 


## Outline 
Newer approaches to data wrangling

- Introduction to <span class='pack'>plyr</span> <span class='pack'>dplyr</span> and <span class='pack'>tidyr</span>
- Subsetting rows
- Subsetting columns
- Reshaping data
- Generating new data
- Grouping and summarizing

Nothin's gonna stop the flow

- More piping with the <span class='pack'>magrittr</span> package

Quick interactive visualizations

- <span class='pack'>ggvis</span>, <span class='pack'>htmlwidgets</span>
    
    

# Newer approaches to <br> data wrangling

```{r, child='intro.Rmd'}
```

# Data Wrangling

```{r, child='genData.Rmd'}
```

```{r, child='select.Rmd'}
```

```{r, child='filter.Rmd'}
```

```{r, child='reshape.Rmd'}
```

```{r, child='groupSummarize.Rmd'}
```

```{r, child='moreWithPipes.Rmd'}
```

# Piping for Visualization
```{r,  child='pipingViz.Rmd'}
```


## Wrap up
Note that much of the functionality you see is in base R

- <span class='func'>with</span>, <span class='func'>within</span>, <span class='func'>tapply</span> etc.

What you now have is a more straightforward way to do those operations.

Think of these packages as organizational and exploratory tools.

Use them to bring clarity to code.

Use them to explore your data more easily whether for visualization or modeling.

With more use, the easier it gets, and the more you can do.

## Further Resources
[Data wrangling cheatsheet](https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf)

[magrittr](https://github.com/smbache/magrittr)

[ggvis](http://ggvis.rstudio.com/)


## Thanks!
<table class='acknowledge'>
<tr>
<td>
<span style='color:#ffcb05'>Michael Clark</span><br><span style='color:#00274c'>Consulting for Statistics, Computing & Analytics Research<br>Advanced Research Computing<br>University of Michigan</span>

<br>
<span style='color:gray'>With notable assistance from:</span>
<br>

<span style='color:#dcb439'>Seth Berry</span><br><span style='color:#002b5b'>Center for Social Research<br>Notre Dame Research<br>University of Notre Dame</span>
</td>
<td><img src="Rlogo84_2.png" style='size:50%'></img></td>

</table>
